/*!
 * vue2-storage v1.0.0 
 * (c) 2018 Yarkov Aleksey
 * Released under the MIT License.
 */
!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):t.Vue2Storage=o()}(this,function(){"use strict";function t(t,e){t.prototype.$storage=new o(e||{})}var o=function(t){void 0===t&&(t={}),this.version="1.0.0",this.name="vue2-storage[v"+this.version+"]";var o=Object.assign({storage:"local",ttl:864e5},t);switch(this.options=Object.freeze(o),this.options.storage){case"local":this.storage=window.localStorage;break;case"session":this.storage=window.sessionStorage;break;default:this.storage=window.localStorage}};return o.prototype.toJSON=function(t,o){void 0===o&&(o={});var e="ttl"in o?o.ttl:this.options.ttl;return JSON.stringify({value:t,ttl:Date.now()+e})},o.prototype.fromJSON=function(t){try{var o=JSON.parse(this.storage.getItem(t));return o&&o.ttl>=Date.now()?o.value:(this.remove(t),null)}catch(t){return null}},o.prototype.printError=function(t){console.error(this.name+": "+t.stack)},o.prototype.get=function(t){try{return this.fromJSON(t)}catch(t){this.printError(t)}},o.prototype.set=function(t,o,e){void 0===e&&(e={});try{this.storage.setItem(t,this.toJSON(o,e))}catch(t){this.printError(t)}},o.prototype.remove=function(t){try{this.storage.removeItem(t)}catch(t){this.printError(t)}},o.prototype.clear=function(){try{this.storage.clear()}catch(t){this.printError(t)}},window.Vue2Storage=t,t});