/*!
 * vue2-storage v1.0.0 
 * (c) 2018 Yarkov Aleksey
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Vue2Storage=e()}(this,function(){"use strict";function t(t,o){t.prototype.$storage=new e(o||{})}var e=function(t){void 0===t&&(t={}),this.version="1.0.0",this.name="vue2-storage[v"+this.version+"]";var e=Object.assign({storage:"local",ttl:36e5},t);switch(this.options=Object.freeze(e),this.options.storage){case"local":this.storage=window.localStorage;break;case"session":this.storage=window.sessionStorage;break;default:this.storage=window.localStorage}};return e.prototype.toJSON=function(t,e){void 0===e&&(e={});var o="ttl"in e?e.ttl:this.options.ttl;return JSON.stringify({value:t,ttl:Date.now()+o})},e.prototype.fromJSON=function(t){try{var e=JSON.parse(this.storage.getItem(t));return e&&e.ttl>=Date.now()?e.value:(this.remove(t),null)}catch(t){return null}},e.prototype.printError=function(t){console.error(this.name+": "+t.stack)},e.prototype.get=function(t){try{return this.fromJSON(t)}catch(t){this.printError(t)}},e.prototype.set=function(t,e,o){void 0===o&&(o={});try{this.storage.setItem(t,this.toJSON(e,o))}catch(t){this.printError(t)}},e.prototype.remove=function(t){try{this.storage.removeItem(t)}catch(t){this.printError(t)}},e.prototype.clear=function(){try{this.storage.clear()}catch(t){this.printError(t)}},t.version="1.0.0","undefined"!=typeof window&&window.Vue&&window.Vue.use(t),t});