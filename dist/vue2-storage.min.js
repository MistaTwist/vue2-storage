/*!
 * vue2-storage v2.0.0 
 * (c) 2018 Yarkov Aleksey
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Vue2Storage=e()}(this,function(){"use strict";function t(t,r){t.prototype.$storage=new e(r||{})}var e=function(t){switch(void 0===t&&(t={}),this.version="2.0.0",this.name="vue2-storage[v2.0.0]",this.setOptions(t),this.options.driver){case"local":this.driver=window.localStorage;break;case"session":this.driver=window.sessionStorage;break;default:this.driver=window.localStorage}};return e.prototype.setOptions=function(t){void 0===t&&(t={});var e=Object.assign({prefix:"",driver:"local",ttl:864e5},t);this.options=Object.freeze(e)},e.prototype.keyPrefix=function(t){return""+(this.options.prefix||"")+t},e.prototype.toJSON=function(t,e){void 0===e&&(e={});var r="ttl"in e?e.ttl:this.options.ttl;return JSON.stringify({value:t,ttl:Date.now()+r})},e.prototype.fromJSON=function(t){switch(this.options.driver){case"local":case"session":try{var e=JSON.parse(this.driver.getItem(t));return e&&e.ttl>=Date.now()?e.value:(this.remove(t),null)}catch(t){return null}default:return null}},e.prototype.printError=function(t){console.error(this.name+": "+t.stack)},e.prototype.get=function(t){try{return this.fromJSON(this.keyPrefix(t))}catch(t){this.printError(t)}},e.prototype.set=function(t,e,r){void 0===r&&(r={});try{this.driver.setItem(this.keyPrefix(t),this.toJSON(e,r))}catch(t){this.printError(t)}},e.prototype.remove=function(t){switch(this.options.driver){case"local":case"session":default:try{this.driver.removeItem(this.keyPrefix(t))}catch(t){this.printError(t)}}},e.prototype.clear=function(){switch(this.options.driver){case"local":case"session":default:try{this.driver.clear()}catch(t){this.printError(t)}}},e.prototype.has=function(t){switch(this.options.driver){case"local":case"session":return this.keyPrefix(t)in this.driver;default:return!1}},e.prototype.keys=function(){switch(this.options.driver){case"local":case"session":return Object.keys(this.driver);default:return[]}},e.prototype.length=function(){return this.keys().length},window.Vue2Storage=t,t});